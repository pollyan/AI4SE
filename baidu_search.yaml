# MidSceneJS YAML自动化测试脚本示例
# 演示如何使用YAML格式编写web UI自动化测试

web:
  url: https://www.baidu.com
  viewportWidth: 1280
  viewportHeight: 720
  waitForNetworkIdle:
    timeout: 3000
    continueOnNetworkIdleError: true
  output: ./test_results/baidu_search_result.json

tasks:
  # 任务1: 基础搜索测试
  - name: 百度搜索测试
    flow:
      - logScreenshot: 百度首页截图
        content: 记录百度首页的初始状态
      
      - aiInput: Python自动化测试
        locate: 搜索框
      
      - aiTap: 百度一下按钮
      
      - sleep: 2000
      
      - aiWaitFor: 搜索结果页面加载完成
        timeout: 5000
      
      - logScreenshot: 搜索结果页面
        content: 搜索Python自动化测试的结果页面
      
      - aiAssert: 页面显示了Python相关的搜索结果

  # 任务2: 数据提取测试  
  - name: 搜索结果数据提取
    flow:
      - aiQuery: 获取前5个搜索结果的标题，返回字符串数组格式
        name: search_results
      
      - aiAssert: 搜索结果中至少包含3个条目
      
      - logScreenshot: 数据提取完成
        content: 完成搜索结果数据提取

  # 任务3: 页面交互测试
  - name: 页面交互测试
    continueOnError: true
    flow:
      - aiScroll:
          direction: down
          scrollType: once
      
      - sleep: 1000
      
      - aiQuery: 检查页面底部是否有分页导航
        name: pagination_check
      
      - aiAssert: 页面包含分页导航或加载更多按钮 